<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>烂柯的 Blog</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/</link><description>Recent content from 烂柯的 Blog</description><generator>Hugo</generator><language>zh-cn</language><managingEditor>2361303523@qq.com (烂柯)</managingEditor><webMaster>2361303523@qq.com (烂柯)</webMaster><copyright>本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</copyright><lastBuildDate>Thu, 04 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://lan-ke-people.github.io/lanke-hugo.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>QAX个人工作笔记</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/a-qax%E7%AC%94%E8%AE%B0/</link><pubDate>Wed, 10 Sep 2025 00:00:00 +0000</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/a-qax%E7%AC%94%E8%AE%B0/</guid><description>
<![CDATA[<h1>QAX个人工作笔记</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <h3 id="增加功能权限">
<a class="header-anchor" href="#%e5%a2%9e%e5%8a%a0%e5%8a%9f%e8%83%bd%e6%9d%83%e9%99%90"></a>
增加功能权限
</h3><p>kubectl get svc | grep zeus	获取所需IP及端口号</p>
<p><a href="sources/add_auth-linkage.yaml">示例文件</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">domain</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;dayu&#39;</span><span class="w">                </span><span class="c">#domain</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;zeus&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;plus&#39;</span><span class="w">               </span><span class="c">#init位新注入一个domain,plus为在原有基础上增加资源</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">addr</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3.44.46.214:26781&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">add</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">category</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;auth-linkage&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">display</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;第三方联动&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">cdesc</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;第三方联动&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">actions</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      	</span>- <span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;manage&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">adesc</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;管理&#39;</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;view&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">adesc</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;查看&#39;</span><span class="w">              
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;edit&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">adesc</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;编辑&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">depends</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;view&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">adesc</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;查看&#39;</span><span class="w">      
</span></span></span></code></pre></div><h6 id="增加功能权限示例">
<a class="header-anchor" href="#%e5%a2%9e%e5%8a%a0%e5%8a%9f%e8%83%bd%e6%9d%83%e9%99%90%e7%a4%ba%e4%be%8b"></a>
增加功能权限示例
</h6><p><img src="sources/%E5%A2%9E%E5%8A%A0%E5%8A%9F%E8%83%BD%E6%9D%83%E9%99%90.png" alt=""></p>
        
        <hr><p>本文2025-09-10首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2025-12-04</p>]]></description><category>work book</category></item><item><title>QAX笔记</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/b-qax%E7%AC%94%E8%AE%B0/</link><pubDate>Wed, 10 Sep 2025 00:00:00 +0000</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/b-qax%E7%AC%94%E8%AE%B0/</guid><description>
<![CDATA[<h1>QAX笔记</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <h1 id="笔记">
<a class="header-anchor" href="#%e7%ac%94%e8%ae%b0"></a>
笔记
</h1><p>常看笔记
<a href="https://www.bookstack.cn/books/effective-java-3rd-chinese">https://www.bookstack.cn/books/effective-java-3rd-chinese</a></p>
<h2 id="一后台服务">
<a class="header-anchor" href="#%e4%b8%80%e5%90%8e%e5%8f%b0%e6%9c%8d%e5%8a%a1"></a>
一、后台服务
</h2><h4 id="1打包部署">
<a class="header-anchor" href="#1%e6%89%93%e5%8c%85%e9%83%a8%e7%bd%b2"></a>
1.打包部署
</h4><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">在gitlub中的Tags中new一个tag，命名     v1.0-alpha.16  -------&gt;  v1.0-alpha.17
</span></span><span class="line"><span class="cl">1、cd /data/s/services/dayu_config/dayu-confs/configs/
</span></span><span class="line"><span class="cl">2、vim mods/服务名/artifact/alpha.ini
</span></span><span class="line"><span class="cl">3、cd /data/s/services/dayu_config/dayu-confs/configs/ &amp;&amp; rg -e single _secret-ukey
</span></span><span class="line"><span class="cl">4、kubectl get pod  -n dev | grep secret-ukey
</span></span><span class="line"><span class="cl">kubectl get pod | grep secret-ukey
</span></span><span class="line"><span class="cl">5、查看日志：kubectl logs -f --tail=100 data-transmission-66b8bf7558-dxnsn -n dev
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">重启服务：（直接删pod）
</span></span><span class="line"><span class="cl">kubectl delete pod 服务名
</span></span></code></pre></div><h4 id="2打一键升级包">
<a class="header-anchor" href="#2%e6%89%93%e4%b8%80%e9%94%ae%e5%8d%87%e7%ba%a7%e5%8c%85"></a>
2.打一键升级包
</h4><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">参考文档：
</span></span><span class="line"><span class="cl">https://cooperate-sop-doc-situation-situation-sop-8fb60afe02c747db4e8e5.doc-biz.qianxin-inc.cn/develop/overall/dev/upgrade-template.html
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">账号密码：
</span></span><span class="line"><span class="cl">situation-af
</span></span><span class="line"><span class="cl">hcK%R*UJXeYesYsw2023
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">(1)添加物料
</span></span><span class="line"><span class="cl">1.在images.txt中加入镜像
</span></span><span class="line"><span class="cl">2.设置compressTarGz.sh中PROJECT_NAME(命名规则为 态势大版本号加上项目简称，例如：R3.10.6_LNWX)
</span></span><span class="line"><span class="cl">3./pre_other：发布服务之前需要执行的内容，通过脚本执行。
</span></span><span class="line"><span class="cl">    /init_db：存放需要额外执行的sql，sql文件名字与数据库名保持一致
</span></span><span class="line"><span class="cl">    /dict：需要导入到玄机字典文件，xls文件
</span></span><span class="line"><span class="cl">    /asset_field：资产扩展字段文件，json文件
</span></span><span class="line"><span class="cl">  /mods：本次需要升级的mods文件
</span></span><span class="line"><span class="cl">  /post_other：发布服务之后需要执行的内容，通过脚本执行
</span></span><span class="line"><span class="cl">  /zeus_file：zeus权限文件
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">(2)将文件拉到后台服务中
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">(3)赋予执行权限
</span></span><span class="line"><span class="cl">chmod +x compressTarGz.sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">(4)执行脚本
</span></span><span class="line"><span class="cl">./compressTarGz.sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">(5)现场执行
</span></span><span class="line"><span class="cl">1.tar -zxvf R3.10.6_BJGD_update_20250822132538.tar.gz
</span></span><span class="line"><span class="cl">2.cd R3.10.6_BJGD_update_20250822132538/
</span></span><span class="line"><span class="cl">3.bash upgrade.sh
</span></span><span class="line"><span class="cl">4.查看服务是否起来
</span></span></code></pre></div><h4 id="3命令">
<a class="header-anchor" href="#3%e5%91%bd%e4%bb%a4"></a>
3.命令
</h4><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">ll</span><span class="o">/</span><span class="n">ls</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span> <span class="n">beta</span><span class="o">.</span><span class="n">ini</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span> <span class="n">alpha</span><span class="o">.</span><span class="n">ini</span> <span class="o">&gt;</span> <span class="n">beta</span><span class="o">.</span><span class="n">ini</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">docker</span> <span class="n">pull</span> <span class="n">situation</span><span class="o">-</span><span class="n">docker</span><span class="o">-</span><span class="n">alpha</span><span class="o">.</span><span class="n">af</span><span class="o">-</span><span class="n">biz</span><span class="o">.</span><span class="n">qianxin</span><span class="o">-</span><span class="n">inc</span><span class="o">.</span><span class="n">cn</span><span class="o">/</span><span class="n">secret</span><span class="o">-</span><span class="n">ukey</span><span class="p">:</span><span class="mf">6134.0</span><span class="o">.</span><span class="mf">18.</span><span class="n">fjwx</span><span class="o">-</span><span class="n">alpha</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">1.</span><span class="err">查看用</span><span class="n">x86还是arm</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">uname</span> <span class="o">-</span><span class="n">m</span>
</span></span><span class="line"><span class="cl"><span class="err">查看服务</span><span class="n">ip</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">hostname</span> <span class="o">-</span><span class="n">i</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">2.</span><span class="err">查看</span><span class="n">cm</span><span class="err">：（</span><span class="n">config</span><span class="o">-</span><span class="n">map</span><span class="err">）</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">describe</span> <span class="n">cm</span> <span class="n">gateway</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">3.</span><span class="err">查看服务：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">get</span> <span class="n">pod</span> <span class="err">（默认进去命名空间的</span><span class="n">default</span><span class="err">）</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">get</span> <span class="n">cn</span><span class="err">（查看命名空间，包含</span><span class="n">default</span><span class="err">）</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">get</span> <span class="n">pod</span> <span class="o">-</span><span class="n">n</span> <span class="n">uae</span><span class="o">-</span><span class="n">flink</span><span class="o">-</span><span class="n">single</span><span class="err">（进去其他命名空间）</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">4.</span><span class="err">查看服务版本号：（镜像服务名：</span><span class="n">situation</span><span class="o">...</span><span class="err">）</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">describe</span> <span class="n">pod</span> <span class="err">服务名</span>  <span class="o">|</span> <span class="n">grep</span> <span class="ne">Image</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">5.</span><span class="err">查看服务资源：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">get</span> <span class="n">svc</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">hakkero</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">6.</span><span class="err">修改服务资源：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">edit</span> <span class="n">svc</span> <span class="n">hakkero</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">7.</span><span class="err">改状态机：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">edit</span> <span class="n">svc</span> <span class="n">hakkero</span>
</span></span><span class="line"><span class="cl"><span class="n">type</span><span class="p">:</span> <span class="n">ClusterIP</span> <span class="err">改为</span> <span class="n">NodePort</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">8.</span><span class="err">查看文件：</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span> <span class="err">文件名</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">9.</span><span class="err">在目录下创建文件夹：</span>
</span></span><span class="line"><span class="cl"><span class="n">mkdir</span> <span class="err">目录名</span>
</span></span><span class="line"><span class="cl"><span class="n">touch</span> <span class="err">文件名</span><span class="o">.</span><span class="n">txt</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">10.</span><span class="err">进入文件：</span>
</span></span><span class="line"><span class="cl"><span class="n">vim</span> <span class="err">文件路径</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">11.</span><span class="err">删除文件</span>
</span></span><span class="line"><span class="cl"><span class="err">（</span><span class="mi">1</span><span class="err">）进到目录下</span>
</span></span><span class="line"><span class="cl"><span class="err">（</span><span class="mi">2</span><span class="err">）</span><span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="o">./</span><span class="err">文件名</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">12.</span><span class="err">复制文件：</span>
</span></span><span class="line"><span class="cl"><span class="n">cp</span> <span class="o">./</span><span class="n">add_incident</span><span class="o">.</span><span class="n">yaml</span> <span class="n">add_incident</span><span class="o">.</span><span class="n">yaml111</span><span class="err">（本目录下）</span>
</span></span><span class="line"><span class="cl"><span class="n">cp</span> <span class="o">./</span><span class="n">add_incident_1001</span><span class="o">.</span><span class="n">yaml</span>  <span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">services</span><span class="o">/</span><span class="n">ts_config</span><span class="o">/</span><span class="n">ts</span><span class="o">-</span><span class="n">zeus</span><span class="o">/</span><span class="err">（新目录下）</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">13.</span><span class="err">运行可执行文件：</span>
</span></span><span class="line"><span class="cl"><span class="err">（</span><span class="mi">1</span><span class="err">）到目录下</span>    <span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">services</span><span class="o">/</span><span class="n">ts_config</span><span class="o">/</span><span class="n">ts</span><span class="o">-</span><span class="n">zeus</span>
</span></span><span class="line"><span class="cl"><span class="err">（</span><span class="mi">2</span><span class="err">）执行</span>      <span class="o">./</span><span class="n">zeus</span><span class="o">-</span><span class="n">permission</span><span class="o">-</span><span class="n">sdk</span> <span class="o">-</span><span class="n">path</span> <span class="n">add_weave_plan</span><span class="o">.</span><span class="n">yaml</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">14.</span><span class="err">查看</span><span class="n">user</span><span class="o">-</span><span class="n">info信息</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">logs</span> <span class="o">-</span><span class="n">f</span> <span class="n">gateway</span><span class="o">-</span><span class="mi">6856965</span><span class="n">d9f</span><span class="o">-</span><span class="mi">7</span><span class="n">ckww</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">user</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">15.</span><span class="err">网关</span><span class="n">pod</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">get</span> <span class="n">pod</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">gate</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">16.</span><span class="err">后台服务查数据库：</span>
</span></span><span class="line"><span class="cl"><span class="k">export</span> <span class="n">PGPASSWORD</span><span class="o">=</span><span class="s1">&#39;A7GaKXT3JEY3_Qrh&#39;</span> <span class="o">&amp;&amp;</span> <span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">services</span><span class="o">/</span><span class="n">pgsql</span><span class="o">/</span><span class="n">server</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">psql</span> <span class="o">-</span><span class="n">U</span> <span class="n">postgres</span> <span class="o">-</span><span class="n">p</span> <span class="mi">15432</span> <span class="o">-</span><span class="n">d</span> <span class="n">postgres</span><span class="p">(</span><span class="err">数据库名</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">17.</span><span class="err">连接数据库</span><span class="n">ip加白名单</span>
</span></span><span class="line"><span class="cl"><span class="n">iptables</span> <span class="o">-</span><span class="n">I</span> <span class="n">INPUT</span> <span class="mi">1</span> <span class="o">-</span><span class="n">s</span>  <span class="mf">10.43</span><span class="o">.</span><span class="mf">185.114</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
</span></span><span class="line"><span class="cl"><span class="n">iptables</span> <span class="o">-</span><span class="n">I</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">s</span> <span class="mf">10.43</span><span class="o">.</span><span class="mf">185.114</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
</span></span><span class="line"><span class="cl"><span class="n">iptables</span> <span class="o">-</span><span class="n">t</span> <span class="n">mangle</span> <span class="o">-</span><span class="n">I</span> <span class="n">PREROUTING</span> <span class="o">-</span><span class="n">s</span> <span class="mf">10.43</span><span class="o">.</span><span class="mf">185.114</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">18.</span><span class="err">进入</span><span class="n">k8s容器</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">exec</span> <span class="o">-</span><span class="n">it</span> <span class="n">framework</span><span class="o">-</span><span class="n">message</span><span class="o">-</span><span class="n">center</span><span class="o">-</span><span class="mi">5</span><span class="n">b5f676c6d</span><span class="o">-</span><span class="n">mj9l7</span> <span class="o">--</span> <span class="n">bash</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">19.</span><span class="err">查看分布在哪个节点：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">get</span> <span class="n">pod</span> <span class="o">-</span><span class="n">o</span> <span class="n">wide</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">app</span>
</span></span><span class="line"><span class="cl"><span class="err">查看系统</span><span class="n">hosts文件内容</span><span class="p">(</span><span class="err">包含节点</span><span class="n">ip</span><span class="p">):</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span>
</span></span><span class="line"><span class="cl"><span class="err">查看服务的端口号信息</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">get</span> <span class="n">svc</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">analysis</span><span class="o">-</span><span class="n">search</span>
</span></span><span class="line"><span class="cl"><span class="err">修改配置文件暴露服务端口</span>  <span class="err">将该配置属性改</span><span class="n">type</span><span class="p">:</span> <span class="n">ClusterIP修为NodePort</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">edit</span> <span class="n">svc</span> <span class="n">analysis</span><span class="o">-</span><span class="n">search</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">查看</span><span class="n">k8s集群节点信息</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">get</span> <span class="n">nodes</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">20.</span><span class="err">查看日志：</span>
</span></span><span class="line"><span class="cl"><span class="n">kubectl</span> <span class="n">logs</span> <span class="n">framework</span><span class="o">-</span><span class="n">message</span><span class="o">-</span><span class="n">center</span><span class="o">-</span><span class="mi">6</span><span class="n">bb87f68cf</span><span class="o">-</span><span class="mi">6</span><span class="n">q8r4</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">C</span> <span class="mi">20</span> <span class="s1">&#39;GENIF202509227&#39;</span>
</span></span></code></pre></div><h4 id="4后台账号">
<a class="header-anchor" href="#4%e5%90%8e%e5%8f%b0%e8%b4%a6%e5%8f%b7"></a>
4.后台账号
</h4><p><code>situation-configs/platform/env_single/cluster.ini</code></p>
        
        <hr><p>本文2025-09-10首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2025-12-04</p>]]></description><category>work book</category></item><item><title>git 常用命令</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/git%E5%91%BD%E4%BB%A4/</link><pubDate>Wed, 16 Aug 2023 00:00:00 +0000</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/git%E5%91%BD%E4%BB%A4/</guid><description>
<![CDATA[<h1>git 常用命令</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <ul>
<li>‌<strong>feat</strong>‌：表示新增功能（feature）</li>
<li>‌<strong>fix</strong>‌：表示修复bug</li>
<li>‌<strong>docs</strong>‌：表示文档更新</li>
<li>‌<strong>style</strong>‌：表示代码格式调整（不影响代码逻辑）</li>
<li>‌<strong>refactor</strong>‌：表示代码重构</li>
<li>‌<strong>test</strong>‌：表示测试相关更改</li>
<li>‌<strong>chore</strong>‌：表示构建过程或辅助工具的变动</li>
</ul>
<p>git init               # 初始化仓库
git stash            暂存当前修改</p>
        
        <hr><p>本文2023-08-16首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2025-09-29</p>]]></description><category>环境配置</category></item><item><title>Typora使用示例</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/typora%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/</link><pubDate>Mon, 29 Sep 2025 00:00:00 +0000</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/typora%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/</guid><description>
<![CDATA[<h1>Typora使用示例</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="一级标题ctrl--1">
<a class="header-anchor" href="#%e4%b8%80%e7%ba%a7%e6%a0%87%e9%a2%98ctrl--1"></a>
一级标题：ctrl + 1
</h1><h2 id="二级标题ctrl--2">
<a class="header-anchor" href="#%e4%ba%8c%e7%ba%a7%e6%a0%87%e9%a2%98ctrl--2"></a>
二级标题：ctrl + 2
</h2><h3 id="三级标题ctrl--3">
<a class="header-anchor" href="#%e4%b8%89%e7%ba%a7%e6%a0%87%e9%a2%98ctrl--3"></a>
三级标题：ctrl + 3
</h3><h6 id="六级标题ctrl--6">
<a class="header-anchor" href="#%e5%85%ad%e7%ba%a7%e6%a0%87%e9%a2%98ctrl--6"></a>
六级标题：ctrl + 6
</h6><p><del>删除线：alt + shift + 5</del></p>
<p><strong>加粗：ctrl + B</strong></p>
        
        <hr><p>本文2025-09-29首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2025-09-29</p>]]></description><category>使用示例</category></item><item><title>什么场景下需要用到微服务？</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/%E4%BB%80%E4%B9%88%E5%9C%BA%E6%99%AF%E4%B8%8B%E9%9C%80%E8%A6%81%E7%94%A8%E5%88%B0%E5%BE%AE%E6%9C%8D%E5%8A%A1/</link><pubDate>Tue, 19 Aug 2025 00:00:00 +0000</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/%E4%BB%80%E4%B9%88%E5%9C%BA%E6%99%AF%E4%B8%8B%E9%9C%80%E8%A6%81%E7%94%A8%E5%88%B0%E5%BE%AE%E6%9C%8D%E5%8A%A1/</guid><description>
<![CDATA[<h1>什么场景下需要用到微服务？</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <h1 id="一核心摘要什么时候需要考虑微服务">
<a class="header-anchor" href="#%e4%b8%80%e6%a0%b8%e5%bf%83%e6%91%98%e8%a6%81%e4%bb%80%e4%b9%88%e6%97%b6%e5%80%99%e9%9c%80%e8%a6%81%e8%80%83%e8%99%91%e5%be%ae%e6%9c%8d%e5%8a%a1"></a>
一、核心摘要：什么时候需要考虑微服务？
</h1><table>
  <thead>
      <tr>
          <th>维度</th>
          <th>单体架构 (Monolith)</th>
          <th>微服务架构 (Microservices)</th>
          <th>何时考虑微服务</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>开发</td>
          <td>代码统一，简单易懂</td>
          <td>代码分散，跨服务调用复杂</td>
          <td>团队规模大，代码冲突多，构建/编译慢</td>
      </tr>
      <tr>
          <td>部署</td>
          <td>统一部署，启动慢</td>
          <td>独立部署，启动快</td>
          <td>交付压力大，需要频繁、独立发布某些功能</td>
      </tr>
      <tr>
          <td>技术</td>
          <td>技术栈统一</td>
          <td>技术栈灵活，可按需选型</td>
          <td>不同模块有异构技术需求（如AI模块用Python，后台用Java）</td>
      </tr>
      <tr>
          <td>扩展</td>
          <td>整体扩展，资源浪费</td>
          <td>细粒度扩展，节省资源</td>
          <td>流量不均，只有部分服务需要高并发能力（如用户中心vs订单系统）</td>
      </tr>
      <tr>
          <td>容错</td>
          <td>一个故障可能拖垮整个应用</td>
          <td>故障隔离，整体更健壮</td>
          <td>对系统可用性要求极高，不能接受单点故障导致全站宕机</td>
      </tr>
      <tr>
          <td>数据</td>
          <td>单一数据库，强一致性</td>
          <td>多数据库，最终一致性</td>
          <td>业务边界清晰，可以拆分成自治的领域</td>
      </tr>
  </tbody>
</table>
<h1 id="二具体需要引入微服务的场景">
<a class="header-anchor" href="#%e4%ba%8c%e5%85%b7%e4%bd%93%e9%9c%80%e8%a6%81%e5%bc%95%e5%85%a5%e5%be%ae%e6%9c%8d%e5%8a%a1%e7%9a%84%e5%9c%ba%e6%99%af"></a>
二、具体需要引入微服务的场景
</h1><ol>
<li>组织与团队规模扩大
场景：开发团队从10人扩展到50人甚至上百人。所有开发者都在同一个代码库上工作，提交代码冲突不断，合并代码变成噩梦。</li>
</ol>
<p>微服务解决方案：按照业务边界（如用户、订单、支付、商品等）将大团队拆分成多个小团队（两个披萨团队）。每个团队负责一个或多个微服务，拥有从开发到运维的完整所有权，实现康威定律的逆向应用（架构驱动组织沟通）。</p>
        
        <hr><p>本文2025-08-19首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2025-08-19</p>]]></description><category>微服务</category></item><item><title>nvm 常用命令</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/nvm%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</link><pubDate>Fri, 28 Jun 2024 00:00:00 +0000</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/nvm%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</guid><description>
<![CDATA[<h1>nvm 常用命令</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <h1 id="nvm-常用命令">
<a class="header-anchor" href="#nvm-%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4"></a>
nvm 常用命令
</h1><h3 id="显示可以安装的所有nodejs的版本">
<a class="header-anchor" href="#%e6%98%be%e7%a4%ba%e5%8f%af%e4%bb%a5%e5%ae%89%e8%a3%85%e7%9a%84%e6%89%80%e6%9c%89nodejs%e7%9a%84%e7%89%88%e6%9c%ac"></a>
显示可以安装的所有node.js的版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm list available
</span></span></code></pre></div><h3 id="安装指定版本的nodejs">
<a class="header-anchor" href="#%e5%ae%89%e8%a3%85%e6%8c%87%e5%ae%9a%e7%89%88%e6%9c%ac%e7%9a%84nodejs"></a>
安装指定版本的Node.js
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm install 16.13.1
</span></span></code></pre></div><h3 id="查看已安装的nodejs版本">
<a class="header-anchor" href="#%e6%9f%a5%e7%9c%8b%e5%b7%b2%e5%ae%89%e8%a3%85%e7%9a%84nodejs%e7%89%88%e6%9c%ac"></a>
查看已安装的node.js版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm list
</span></span></code></pre></div><h3 id="切换到指定的nodejs版本">
<a class="header-anchor" href="#%e5%88%87%e6%8d%a2%e5%88%b0%e6%8c%87%e5%ae%9a%e7%9a%84nodejs%e7%89%88%e6%9c%ac"></a>
切换到指定的nodejs版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm use 16.13.1
</span></span></code></pre></div><h3 id="查看本电脑上所有的node版本">
<a class="header-anchor" href="#%e6%9f%a5%e7%9c%8b%e6%9c%ac%e7%94%b5%e8%84%91%e4%b8%8a%e6%89%80%e6%9c%89%e7%9a%84node%e7%89%88%e6%9c%ac"></a>
查看本电脑上所有的node版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm list
</span></span></code></pre></div><h3 id="查看已经安装的版本">
<a class="header-anchor" href="#%e6%9f%a5%e7%9c%8b%e5%b7%b2%e7%bb%8f%e5%ae%89%e8%a3%85%e7%9a%84%e7%89%88%e6%9c%ac"></a>
查看已经安装的版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm list installed
</span></span></code></pre></div><h3 id="查看网络可以安装的版本">
<a class="header-anchor" href="#%e6%9f%a5%e7%9c%8b%e7%bd%91%e7%bb%9c%e5%8f%af%e4%bb%a5%e5%ae%89%e8%a3%85%e7%9a%84%e7%89%88%e6%9c%ac"></a>
查看网络可以安装的版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm list available
</span></span></code></pre></div><h3 id="安装最新版本nodejs">
<a class="header-anchor" href="#%e5%ae%89%e8%a3%85%e6%9c%80%e6%96%b0%e7%89%88%e6%9c%acnodejs"></a>
安装最新版本Node.js
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm install
</span></span></code></pre></div><h3 id="切换使用指定的版本node">
<a class="header-anchor" href="#%e5%88%87%e6%8d%a2%e4%bd%bf%e7%94%a8%e6%8c%87%e5%ae%9a%e7%9a%84%e7%89%88%e6%9c%acnode"></a>
切换使用指定的版本node
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm use &lt;version&gt;
</span></span></code></pre></div><h3 id="列出所有版本">
<a class="header-anchor" href="#%e5%88%97%e5%87%ba%e6%89%80%e6%9c%89%e7%89%88%e6%9c%ac"></a>
列出所有版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm ls
</span></span></code></pre></div><h3 id="显示当前版本">
<a class="header-anchor" href="#%e6%98%be%e7%a4%ba%e5%bd%93%e5%89%8d%e7%89%88%e6%9c%ac"></a>
显示当前版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm current
</span></span></code></pre></div><h3 id="给不同的版本号添加别名">
<a class="header-anchor" href="#%e7%bb%99%e4%b8%8d%e5%90%8c%e7%9a%84%e7%89%88%e6%9c%ac%e5%8f%b7%e6%b7%bb%e5%8a%a0%e5%88%ab%e5%90%8d"></a>
给不同的版本号添加别名
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm <span class="nb">alias</span> &lt;name&gt; &lt;version&gt;
</span></span></code></pre></div><h3 id="删除已定义的别名">
<a class="header-anchor" href="#%e5%88%a0%e9%99%a4%e5%b7%b2%e5%ae%9a%e4%b9%89%e7%9a%84%e5%88%ab%e5%90%8d"></a>
删除已定义的别名
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm <span class="nb">unalias</span> &lt;name&gt;
</span></span></code></pre></div><h3 id="重新全局安装指定版本号的npm包">
<a class="header-anchor" href="#%e9%87%8d%e6%96%b0%e5%85%a8%e5%b1%80%e5%ae%89%e8%a3%85%e6%8c%87%e5%ae%9a%e7%89%88%e6%9c%ac%e5%8f%b7%e7%9a%84npm%e5%8c%85"></a>
重新全局安装指定版本号的npm包
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm reinstall-packages &lt;version&gt;
</span></span></code></pre></div><h3 id="打开nodejs控制">
<a class="header-anchor" href="#%e6%89%93%e5%bc%80nodejs%e6%8e%a7%e5%88%b6"></a>
打开nodejs控制
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm on
</span></span></code></pre></div><h3 id="关闭nodejs控制">
<a class="header-anchor" href="#%e5%85%b3%e9%97%adnodejs%e6%8e%a7%e5%88%b6"></a>
关闭nodejs控制
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm off
</span></span></code></pre></div><h3 id="查看设置与代理">
<a class="header-anchor" href="#%e6%9f%a5%e7%9c%8b%e8%ae%be%e7%bd%ae%e4%b8%8e%e4%bb%a3%e7%90%86"></a>
查看设置与代理
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm proxy
</span></span></code></pre></div><h3 id="设置或查看node_mirror">
<a class="header-anchor" href="#%e8%ae%be%e7%bd%ae%e6%88%96%e6%9f%a5%e7%9c%8bnode_mirror"></a>
设置或查看node_mirror
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm node_mirror <span class="o">[</span>url<span class="o">]</span>
</span></span></code></pre></div><h3 id="设置或查看npm_mirror">
<a class="header-anchor" href="#%e8%ae%be%e7%bd%ae%e6%88%96%e6%9f%a5%e7%9c%8bnpm_mirror"></a>
设置或查看npm_mirror
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm npm_mirror <span class="o">[</span>url<span class="o">]</span>
</span></span></code></pre></div><h3 id="卸载制定的版本">
<a class="header-anchor" href="#%e5%8d%b8%e8%bd%bd%e5%88%b6%e5%ae%9a%e7%9a%84%e7%89%88%e6%9c%ac"></a>
卸载制定的版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm uninstall &lt;version&gt;
</span></span></code></pre></div><h3 id="切换制定的node版本和位数">
<a class="header-anchor" href="#%e5%88%87%e6%8d%a2%e5%88%b6%e5%ae%9a%e7%9a%84node%e7%89%88%e6%9c%ac%e5%92%8c%e4%bd%8d%e6%95%b0"></a>
切换制定的node版本和位数
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm use <span class="o">[</span>version<span class="o">]</span> <span class="o">[</span>arch<span class="o">]</span>
</span></span></code></pre></div><h3 id="设置和查看root路径">
<a class="header-anchor" href="#%e8%ae%be%e7%bd%ae%e5%92%8c%e6%9f%a5%e7%9c%8broot%e8%b7%af%e5%be%84"></a>
设置和查看root路径
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm root <span class="o">[</span>path<span class="o">]</span>
</span></span></code></pre></div><h3 id="查看当前的nvm版本">
<a class="header-anchor" href="#%e6%9f%a5%e7%9c%8b%e5%bd%93%e5%89%8d%e7%9a%84nvm%e7%89%88%e6%9c%ac"></a>
查看当前的nvm版本
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">nvm version
</span></span></code></pre></div>
        
        <hr><p>本文2024-06-28首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2024-06-28</p>]]></description><category>前端开发</category><category>环境配置</category></item><item><title>Oracle维护命令</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/oracle%E7%BB%B4%E6%8A%A4%E5%91%BD%E4%BB%A4/</link><pubDate>Sun, 15 Oct 2023 00:00:00 +0000</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/oracle%E7%BB%B4%E6%8A%A4%E5%91%BD%E4%BB%A4/</guid><description>
<![CDATA[<h1>Oracle维护命令</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <h1 id="性能监控">
<a class="header-anchor" href="#%e6%80%a7%e8%83%bd%e7%9b%91%e6%8e%a7"></a>
性能监控
</h1><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 实时监控会话总数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">active_sessions</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">v$session</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 按用户查看连接数（识别异常连接）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">conn_count</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">v$session</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">username</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">conn_count</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><h1 id="安全审计">
<a class="header-anchor" href="#%e5%ae%89%e5%85%a8%e5%ae%a1%e8%ae%a1"></a>
安全审计
</h1><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 检查特定机器的连接
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">machine</span><span class="p">,</span><span class="w"> </span><span class="n">program</span><span class="p">,</span><span class="w"> </span><span class="n">logon_time</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">v$session</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;MDKJSERVER&#39;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><h1 id="资源释放">
<a class="header-anchor" href="#%e8%b5%84%e6%ba%90%e9%87%8a%e6%94%be"></a>
资源释放
</h1><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 生成终止非活动会话脚本
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="s1">&#39;ALTER SYSTEM KILL SESSION &#39;&#39;&#39;</span><span class="o">||</span><span class="n">sid</span><span class="o">||</span><span class="s1">&#39;,&#39;</span><span class="o">||</span><span class="nb">serial</span><span class="o">#||</span><span class="s1">&#39;&#39;&#39; IMMEDIATE;&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">kill_cmd</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">v$session</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INACTIVE&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">last_call_et</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1800</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 30分钟无活动
</span></span></span></code></pre></div><h1 id="连接问题排查">
<a class="header-anchor" href="#%e8%bf%9e%e6%8e%a5%e9%97%ae%e9%a2%98%e6%8e%92%e6%9f%a5"></a>
连接问题排查
</h1><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 查看特定OS用户的连接
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">sid</span><span class="p">,</span><span class="w"> </span><span class="nb">serial</span><span class="o">#</span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">sql_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">v$session</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">osuser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;MDKJ-W&#39;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div>
        
        <hr><p>本文2023-10-15首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2023-10-20</p>]]></description><category>数据库管理</category><category>性能优化</category><category>系统监控</category></item><item><title>docker 常用命令</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</link><pubDate>Wed, 16 Aug 2023 00:00:00 +0000</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</guid><description>
<![CDATA[<h1>docker 常用命令</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <h3 id="docker常用命令">
<a class="header-anchor" href="#docker%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4"></a>
Docker常用命令
</h3><ul>
<li>检查docker版本</li>
<li>docker -v</li>
<li></li>
<li>查看docker已有镜像</li>
<li>sudo docker images</li>
<li></li>
<li>设置docker开机启动</li>
<li>sudo systemctl enable docker</li>
<li></li>
<li>查看docker服务状态是否启动</li>
<li>sudo systemctl status docker</li>
<li></li>
<li>启动docker服务</li>
<li>sudo systemctl start docker</li>
<li></li>
<li>查看所有容器状态</li>
<li>docker ps -a</li>
<li></li>
<li>查看正在运行的容器状态</li>
<li>docker ps</li>
<li></li>
<li>可以通过以下命令在容器内重新加载 Nginx 配置：</li>
<li>docker exec &lt;nginx_container_id_or_name&gt; nginx -s reload</li>
<li></li>
<li>使用 docker exec 命令进入容器的交互式 shell：</li>
<li>docker exec -it nginx /bin/bash</li>
<li></li>
<li>重启指定容器：</li>
<li>sudo docker restart &lt;container_name_or_id&gt;</li>
<li></li>
<li>更新容器为开机启动启动</li>
<li>docker update 容器id &ndash;restart=always</li>
<li>关闭容器为开机启动</li>
<li>docker update 容器id &ndash;restart=no</li>
</ul>
<h3 id="mysql启动">
<a class="header-anchor" href="#mysql%e5%90%af%e5%8a%a8"></a>
MySQL启动
</h3><ul>
<li>1 拉去mysql镜像</li>
<li>sudo docker pull mysql:8.0</li>
<li></li>
<li>2 启动mysql容器</li>
<li>
<h3 id="name指定容器名字--v目录挂载--p指定端口映射---e设置mysql参数--d后台运行">
<a class="header-anchor" href="#name%e6%8c%87%e5%ae%9a%e5%ae%b9%e5%99%a8%e5%90%8d%e5%ad%97--v%e7%9b%ae%e5%bd%95%e6%8c%82%e8%bd%bd--p%e6%8c%87%e5%ae%9a%e7%ab%af%e5%8f%a3%e6%98%a0%e5%b0%84---e%e8%ae%be%e7%bd%aemysql%e5%8f%82%e6%95%b0--d%e5%90%8e%e5%8f%b0%e8%bf%90%e8%a1%8c"></a>
&ndash;name指定容器名字 -v目录挂载 -p指定端口映射  -e设置mysql参数 -d后台运行
</h3></li>
<li>sudo docker run &ndash;name mysql -v /mydata/mysql/data:/var/lib/mysql -v /mydata/mysql:/etc/mysql/conf.d -v /mydata/mysql/log:/var/log/mysql  -e MYSQL_ROOT_PASSWORD=root  -p 3306:3306 -d mysql:latest</li>
<li></li>
<li>3 使用su - root（切换为root，这样就不用每次都sudo来赐予了）</li>
<li>su - root</li>
<li>4 进入mysql容器</li>
<li>docker exec -it 容器名称|容器id bin/bash</li>
<li>修改完之后再刷新配置flush privileges；</li>
<li>查看所有容器状态</li>
<li>docker ps -a</li>
<li>docker rm 容器id</li>
</ul>
<h3 id="启动redis容器">
<a class="header-anchor" href="#%e5%90%af%e5%8a%a8redis%e5%ae%b9%e5%99%a8"></a>
启动redis容器
</h3><p>docker run -p 6379:6379 &ndash;name redis &ndash;privileged=true -v /mydata/redis/data:/data -v /mydata/redis/conf/redis.conf:/etc/redis/redis.conf -d redis redis-server /etc/redis/redis.conf</p>
        
        <hr><p>本文2023-08-16首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2023-08-16</p>]]></description><category>环境配置</category><category>容器化部署</category></item><item><title>Linux运维常用命令速查</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/linux%E9%83%A8%E7%BD%B2%E5%91%BD%E4%BB%A4/</link><pubDate>Sat, 15 Oct 2022 00:00:00 +0000</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/linux%E9%83%A8%E7%BD%B2%E5%91%BD%E4%BB%A4/</guid><description>
<![CDATA[<h1>Linux运维常用命令速查</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <h2 id="服务启动命令">
<a class="header-anchor" href="#%e6%9c%8d%e5%8a%a1%e5%90%af%e5%8a%a8%e5%91%bd%e4%bb%a4"></a>
服务启动命令
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Java应用</span>
</span></span><span class="line"><span class="cl">nohup java -jar XXX.jar <span class="p">&amp;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Nacos</span>
</span></span><span class="line"><span class="cl">nohup sh startup.sh -m standalone <span class="p">&amp;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Redis</span>
</span></span><span class="line"><span class="cl">./redis-server redis.conf <span class="p">&amp;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Nginx</span>
</span></span><span class="line"><span class="cl">./sbin/nginx
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># RocketMQ</span>
</span></span><span class="line"><span class="cl">nohup sh mqnamesrv <span class="p">&amp;</span>
</span></span><span class="line"><span class="cl">nohup sh mqbroker -n 127.0.0.1:9876 -c broker.conf <span class="p">&amp;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 关闭RocketMQ</span>
</span></span><span class="line"><span class="cl">sh mqshutdown broker
</span></span><span class="line"><span class="cl">sh mqshutdown namesrv
</span></span></code></pre></div><h2 id="进程管理命令">
<a class="header-anchor" href="#%e8%bf%9b%e7%a8%8b%e7%ae%a1%e7%90%86%e5%91%bd%e4%bb%a4"></a>
进程管理命令
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 查看进程</span>
</span></span><span class="line"><span class="cl">ps -aux <span class="p">|</span> grep java
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 终止进程</span>
</span></span><span class="line"><span class="cl"><span class="nb">kill</span> -9 <span class="o">[</span>PID<span class="o">]</span>
</span></span></code></pre></div><h2 id="端口与网络">
<a class="header-anchor" href="#%e7%ab%af%e5%8f%a3%e4%b8%8e%e7%bd%91%e7%bb%9c"></a>
端口与网络
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 查看端口占用</span>
</span></span><span class="line"><span class="cl">netstat -ntulp <span class="p">|</span> grep <span class="m">3306</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看进程端口</span>
</span></span><span class="line"><span class="cl">netstat -nap <span class="p">|</span> grep <span class="o">[</span>PID<span class="o">]</span>
</span></span></code></pre></div><h2 id="资源监控">
<a class="header-anchor" href="#%e8%b5%84%e6%ba%90%e7%9b%91%e6%8e%a7"></a>
资源监控
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 内存使用</span>
</span></span><span class="line"><span class="cl">free -h
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 磁盘使用</span>
</span></span><span class="line"><span class="cl">df -h
</span></span></code></pre></div><h2 id="其他">
<a class="header-anchor" href="#%e5%85%b6%e4%bb%96"></a>
其他
</h2><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 修改文件读写权限</span>
</span></span><span class="line"><span class="cl">chmod -R <span class="m">777</span> fload_file_name/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 磁盘使用</span>
</span></span><span class="line"><span class="cl">df -h
</span></span></code></pre></div>
        
        <hr><p>本文2022-10-15首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2022-10-20</p>]]></description><category>Linux运维</category><category>服务管理</category><category>系统监控</category></item><item><title>Hello Hugo</title><link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/hello/</link><pubDate>Tue, 27 Feb 2001 11:00:00 -0700</pubDate><author>2361303523@qq.com (烂柯)</author><guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/hello/</guid><description>
<![CDATA[<h1>Hello Hugo</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <p>💘 博麗 霊夢 💘</p>
<p>Welcome to My Blog</p>
<h2 id="quick-start">
<a class="header-anchor" href="#quick-start"></a>
Quick Start
</h2><h3 id="create-a-new-post">
<a class="header-anchor" href="#create-a-new-post"></a>
Create a new post
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hugo new <span class="s2">&#34;My New Post&#34;</span>
</span></span></code></pre></div><h3 id="run-server">
<a class="header-anchor" href="#run-server"></a>
Run server
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hugo server
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hugo new <span class="s2">&#34;My New Post&#34;</span>
</span></span></code></pre></div><h3 id="常用属性">
<a class="header-anchor" href="#%e5%b8%b8%e7%94%a8%e5%b1%9e%e6%80%a7"></a>
常用属性
</h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">title: <span class="s2">&#34;文章标题&#34;</span>           <span class="c1"># 文章标题</span>
</span></span><span class="line"><span class="cl">author: <span class="s2">&#34;作者&#34;</span>              <span class="c1"># 文章作者</span>
</span></span><span class="line"><span class="cl">description : <span class="s2">&#34;描述信息&#34;</span>    <span class="c1"># 文章描述信息</span>
</span></span><span class="line"><span class="cl">date: 2015-09-28            <span class="c1"># 文章编写日期</span>
</span></span><span class="line"><span class="cl">lastmod: 2015-04-06         <span class="c1"># 文章修改日期</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">tags</span> <span class="o">=</span> <span class="o">[</span>                    <span class="c1"># 文章所属标签</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;文章标签1&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;文章标签2&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">categories</span> <span class="o">=</span> <span class="o">[</span>              <span class="c1"># 文章所属标签</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;文章分类1&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;文章分类2&#34;</span>,
</span></span><span class="line"><span class="cl"><span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">keywords</span> <span class="o">=</span> <span class="o">[</span>                <span class="c1"># 文章关键词</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Hugo&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;static&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;generator&#34;</span>,
</span></span><span class="line"><span class="cl"><span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">next: /tutorials/github-pages-blog      <span class="c1"># 下一篇博客地址</span>
</span></span><span class="line"><span class="cl">prev: /tutorials/automated-deployments  <span class="c1"># 上一篇博客地址</span>
</span></span></code></pre></div>
        
        <hr><p>本文2001-02-27首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2001-02-27</p>]]></description></item></channel></rss>