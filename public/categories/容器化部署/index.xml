<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>容器化部署 on 烂柯的 Blog</title>
    <link>https://lan-ke-people.github.io/lanke-hugo.github.io/categories/%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2/</link>
    <description>Recent content from 烂柯的 Blog</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    
    <managingEditor>2361303523@qq.com (烂柯)</managingEditor>
    <webMaster>2361303523@qq.com (烂柯)</webMaster>
    
    <copyright>本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</copyright>
    
    <lastBuildDate>Wed, 16 Aug 2023 00:00:00 +0000</lastBuildDate>
    
    
    <atom:link href="https://lan-ke-people.github.io/lanke-hugo.github.io/categories/%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2/index.xml" rel="self" type="application/rss&#43;xml" />
    

    
    

    <item>
      <title>docker 常用命令</title>
      <link>https://lan-ke-people.github.io/lanke-hugo.github.io/post/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</link>
      <pubDate>Wed, 16 Aug 2023 00:00:00 &#43;0000</pubDate>
      <author>2361303523@qq.com (烂柯)</author>
      <guid>https://lan-ke-people.github.io/lanke-hugo.github.io/post/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</guid>
      <description>
        <![CDATA[<h1>docker 常用命令</h1><p>作者：烂柯（2361303523@qq.com）</p>
        
          <h3 id="docker常用命令">
<a class="header-anchor" href="#docker%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4"></a>
Docker常用命令
</h3><ul>
<li>检查docker版本</li>
<li>docker -v</li>
<li></li>
<li>查看docker已有镜像</li>
<li>sudo docker images</li>
<li></li>
<li>设置docker开机启动</li>
<li>sudo systemctl enable docker</li>
<li></li>
<li>查看docker服务状态是否启动</li>
<li>sudo systemctl status docker</li>
<li></li>
<li>启动docker服务</li>
<li>sudo systemctl start docker</li>
<li></li>
<li>查看所有容器状态</li>
<li>docker ps -a</li>
<li></li>
<li>查看正在运行的容器状态</li>
<li>docker ps</li>
<li></li>
<li>可以通过以下命令在容器内重新加载 Nginx 配置：</li>
<li>docker exec &lt;nginx_container_id_or_name&gt; nginx -s reload</li>
<li></li>
<li>使用 docker exec 命令进入容器的交互式 shell：</li>
<li>docker exec -it nginx /bin/bash</li>
<li></li>
<li>重启指定容器：</li>
<li>sudo docker restart &lt;container_name_or_id&gt;</li>
<li></li>
<li>更新容器为开机启动启动</li>
<li>docker update 容器id &ndash;restart=always</li>
<li>关闭容器为开机启动</li>
<li>docker update 容器id &ndash;restart=no</li>
</ul>
<h3 id="mysql启动">
<a class="header-anchor" href="#mysql%e5%90%af%e5%8a%a8"></a>
MySQL启动
</h3><ul>
<li>1 拉去mysql镜像</li>
<li>sudo docker pull mysql:8.0</li>
<li></li>
<li>2 启动mysql容器</li>
<li>
<h3 id="name指定容器名字--v目录挂载--p指定端口映射---e设置mysql参数--d后台运行">
<a class="header-anchor" href="#name%e6%8c%87%e5%ae%9a%e5%ae%b9%e5%99%a8%e5%90%8d%e5%ad%97--v%e7%9b%ae%e5%bd%95%e6%8c%82%e8%bd%bd--p%e6%8c%87%e5%ae%9a%e7%ab%af%e5%8f%a3%e6%98%a0%e5%b0%84---e%e8%ae%be%e7%bd%aemysql%e5%8f%82%e6%95%b0--d%e5%90%8e%e5%8f%b0%e8%bf%90%e8%a1%8c"></a>
&ndash;name指定容器名字 -v目录挂载 -p指定端口映射  -e设置mysql参数 -d后台运行
</h3></li>
<li>sudo docker run &ndash;name mysql -v /mydata/mysql/data:/var/lib/mysql -v /mydata/mysql:/etc/mysql/conf.d -v /mydata/mysql/log:/var/log/mysql  -e MYSQL_ROOT_PASSWORD=root  -p 3306:3306 -d mysql:latest</li>
<li></li>
<li>3 使用su - root（切换为root，这样就不用每次都sudo来赐予了）</li>
<li>su - root</li>
<li>4 进入mysql容器</li>
<li>docker exec -it 容器名称|容器id bin/bash</li>
<li>修改完之后再刷新配置flush privileges；</li>
<li>查看所有容器状态</li>
<li>docker ps -a</li>
<li>docker rm 容器id</li>
</ul>
<h3 id="启动redis容器">
<a class="header-anchor" href="#%e5%90%af%e5%8a%a8redis%e5%ae%b9%e5%99%a8"></a>
启动redis容器
</h3><p>docker run -p 6379:6379 &ndash;name redis &ndash;privileged=true -v /mydata/redis/data:/data -v /mydata/redis/conf/redis.conf:/etc/redis/redis.conf -d redis redis-server /etc/redis/redis.conf</p>
        
        <hr><p>本文2023-08-16首发于<a href='https://lan-ke-people.github.io/lanke-hugo.github.io/'>烂柯的 Blog</a>，最后修改于2023-08-16</p>]]>
      </description>
      
        <category>环境配置</category><category>容器化部署</category>
      
    </item>
    
  </channel>
</rss>
